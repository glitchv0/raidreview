<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raid Reports</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    <div class="container py-4">
        <div class="feedback-bar mb-3">
        <a href="#" onclick="openGeneralFeedback(); return false;" class="feedback-btn">
            <i class="bi bi-chat-dots me-1"></i>Send Feedback
        </a>
    </div>
        
        <h1>Raid Reports</h1>
    <p class="lead text-muted">Performance analysis for Throne of Thunder raids</p>
    <div class="player-grid"><div class="card report-card" style="cursor: pointer;" onclick="window.location.href='2026-01-18_25N_WP1JmtzcaHM7QYwV/index.html'">
            <div class="card-body">
                <h5 class="card-title mb-1">2026-01-18 <span class="badge bg-secondary">25N</span></h5>
                <p class="card-text mb-1" style="color: var(--wow-gold);">Make Azeroth Great Again</p>
                <p class="card-text mb-1 text-muted"><i class="bi bi-trophy me-1"></i>7 bosses | <i class="bi bi-person me-1"></i>25 players</p>
                <p class="card-text mb-1"><a href="wipes/2026-01-18_25N_WP1JmtzcaHM7QYwV/index.html" class="text-danger" onclick="event.stopPropagation();"><i class="bi bi-x-circle me-1"></i>15 wipes analyzed</a></p>
                <p class="card-text mb-0"><a href="https://classic.warcraftlogs.com/reports/WP1JmtzcaHM7QYwV" target="_blank" class="text-muted" onclick="event.stopPropagation();"><i class="bi bi-box-arrow-up-right me-1"></i>WP1JmtzcaHM7QYwV</a></p>
            </div>
        </div><div class="card report-card" style="cursor: pointer;" onclick="window.location.href='2026-01-17_25N_D3PHXcfQTxB2MqJa/index.html'">
            <div class="card-body">
                <h5 class="card-title mb-1">2026-01-17 <span class="badge bg-secondary">25N</span></h5>
                <p class="card-text mb-1" style="color: var(--wow-gold);">Ghosts of Atiesh</p>
                <p class="card-text mb-1 text-muted"><i class="bi bi-trophy me-1"></i>6 bosses | <i class="bi bi-person me-1"></i>25 players</p>
                <p class="card-text mb-1"><a href="wipes/2026-01-17_25N_D3PHXcfQTxB2MqJa/index.html" class="text-danger" onclick="event.stopPropagation();"><i class="bi bi-x-circle me-1"></i>2 wipes analyzed</a></p>
                <p class="card-text mb-0"><a href="https://classic.warcraftlogs.com/reports/D3PHXcfQTxB2MqJa" target="_blank" class="text-muted" onclick="event.stopPropagation();"><i class="bi bi-box-arrow-up-right me-1"></i>D3PHXcfQTxB2MqJa</a></p>
            </div>
        </div><div class="card report-card" style="cursor: pointer;" onclick="window.location.href='2026-01-17_25H_wnHDFThRJ12YaLkA/index.html'">
            <div class="card-body">
                <h5 class="card-title mb-1">2026-01-17 <span class="badge bg-secondary">25H</span></h5>
                <p class="card-text mb-1" style="color: var(--wow-gold);">Make Azeroth Great Again</p>
                <p class="card-text mb-1 text-muted"><i class="bi bi-trophy me-1"></i>5 bosses | <i class="bi bi-person me-1"></i>25 players</p>
                
                <p class="card-text mb-0"><a href="https://classic.warcraftlogs.com/reports/wnHDFThRJ12YaLkA" target="_blank" class="text-muted" onclick="event.stopPropagation();"><i class="bi bi-box-arrow-up-right me-1"></i>wnHDFThRJ12YaLkA</a></p>
            </div>
        </div><div class="card report-card" style="cursor: pointer;" onclick="window.location.href='2026-01-16_25H_ZBqazmNXy82wFAxQ/index.html'">
            <div class="card-body">
                <h5 class="card-title mb-1">2026-01-16 <span class="badge bg-secondary">25H</span></h5>
                <p class="card-text mb-1" style="color: var(--wow-gold);">Ghosts of Atiesh</p>
                <p class="card-text mb-1 text-muted"><i class="bi bi-trophy me-1"></i>6 bosses | <i class="bi bi-person me-1"></i>25 players</p>
                
                <p class="card-text mb-0"><a href="https://classic.warcraftlogs.com/reports/ZBqazmNXy82wFAxQ" target="_blank" class="text-muted" onclick="event.stopPropagation();"><i class="bi bi-box-arrow-up-right me-1"></i>ZBqazmNXy82wFAxQ</a></p>
            </div>
        </div><div class="card report-card" style="cursor: pointer;" onclick="window.location.href='2026-01-14_25N_rn2FyqJZ79QCAbzt/index.html'">
            <div class="card-body">
                <h5 class="card-title mb-1">2026-01-14 <span class="badge bg-secondary">25N</span></h5>
                <p class="card-text mb-1" style="color: var(--wow-gold);">None</p>
                <p class="card-text mb-1 text-muted"><i class="bi bi-trophy me-1"></i>6 bosses | <i class="bi bi-person me-1"></i>26 players</p>
                <p class="card-text mb-1"><a href="wipes/2026-01-14_25N_rn2FyqJZ79QCAbzt/index.html" class="text-danger" onclick="event.stopPropagation();"><i class="bi bi-x-circle me-1"></i>13 wipes analyzed</a></p>
                <p class="card-text mb-0"><a href="https://classic.warcraftlogs.com/reports/rn2FyqJZ79QCAbzt" target="_blank" class="text-muted" onclick="event.stopPropagation();"><i class="bi bi-box-arrow-up-right me-1"></i>rn2FyqJZ79QCAbzt</a></p>
            </div>
        </div><div class="card report-card" style="cursor: pointer;" onclick="window.location.href='2026-01-13_25H_qkWQTKgCYbBczr34/index.html'">
            <div class="card-body">
                <h5 class="card-title mb-1">2026-01-13 <span class="badge bg-secondary">25H</span></h5>
                <p class="card-text mb-1" style="color: var(--wow-gold);">Everything Hard Reserved</p>
                <p class="card-text mb-1 text-muted"><i class="bi bi-trophy me-1"></i>6 bosses | <i class="bi bi-person me-1"></i>25 players</p>
                
                <p class="card-text mb-0"><a href="https://classic.warcraftlogs.com/reports/qkWQTKgCYbBczr34" target="_blank" class="text-muted" onclick="event.stopPropagation();"><i class="bi bi-box-arrow-up-right me-1"></i>qkWQTKgCYbBczr34</a></p>
            </div>
        </div><div class="card report-card" style="cursor: pointer;" onclick="window.location.href='2026-01-11_25N_73LvphDmkPZzNX6V/index.html'">
            <div class="card-body">
                <h5 class="card-title mb-1">2026-01-11 <span class="badge bg-secondary">25N</span></h5>
                <p class="card-text mb-1" style="color: var(--wow-gold);">Make Azeroth Great Again</p>
                <p class="card-text mb-1 text-muted"><i class="bi bi-trophy me-1"></i>7 bosses | <i class="bi bi-person me-1"></i>25 players</p>
                <p class="card-text mb-1"><a href="wipes/2026-01-11_25N_73LvphDmkPZzNX6V/index.html" class="text-danger" onclick="event.stopPropagation();"><i class="bi bi-x-circle me-1"></i>5 wipes analyzed</a></p>
                <p class="card-text mb-0"><a href="https://classic.warcraftlogs.com/reports/73LvphDmkPZzNX6V" target="_blank" class="text-muted" onclick="event.stopPropagation();"><i class="bi bi-box-arrow-up-right me-1"></i>73LvphDmkPZzNX6V</a></p>
            </div>
        </div><div class="card report-card" style="cursor: pointer;" onclick="window.location.href='2026-01-10_25H_DkgR89WBa47FJd1C/index.html'">
            <div class="card-body">
                <h5 class="card-title mb-1">2026-01-10 <span class="badge bg-secondary">25H</span></h5>
                <p class="card-text mb-1" style="color: var(--wow-gold);">Make Azeroth Great Again</p>
                <p class="card-text mb-1 text-muted"><i class="bi bi-trophy me-1"></i>5 bosses | <i class="bi bi-person me-1"></i>25 players</p>
                
                <p class="card-text mb-0"><a href="https://classic.warcraftlogs.com/reports/DkgR89WBa47FJd1C" target="_blank" class="text-muted" onclick="event.stopPropagation();"><i class="bi bi-box-arrow-up-right me-1"></i>DkgR89WBa47FJd1C</a></p>
            </div>
        </div><div class="card report-card" style="cursor: pointer;" onclick="window.location.href='2026-01-10_10N_ZvBgMjA8y64TxDak/index.html'">
            <div class="card-body">
                <h5 class="card-title mb-1">2026-01-10 <span class="badge bg-secondary">10N</span></h5>
                <p class="card-text mb-1" style="color: var(--wow-gold);">Make Azeroth Great Again</p>
                <p class="card-text mb-1 text-muted"><i class="bi bi-trophy me-1"></i>7 bosses | <i class="bi bi-person me-1"></i>11 players</p>
                <p class="card-text mb-1"><a href="wipes/2026-01-10_10N_ZvBgMjA8y64TxDak/index.html" class="text-danger" onclick="event.stopPropagation();"><i class="bi bi-x-circle me-1"></i>10 wipes analyzed</a></p>
                <p class="card-text mb-0"><a href="https://classic.warcraftlogs.com/reports/ZvBgMjA8y64TxDak" target="_blank" class="text-muted" onclick="event.stopPropagation();"><i class="bi bi-box-arrow-up-right me-1"></i>ZvBgMjA8y64TxDak</a></p>
            </div>
        </div><div class="card report-card" style="cursor: pointer;" onclick="window.location.href='2026-01-09_10H_pdg6m7hDjL9cXtvG/index.html'">
            <div class="card-body">
                <h5 class="card-title mb-1">2026-01-09 <span class="badge bg-secondary">10H</span></h5>
                <p class="card-text mb-1" style="color: var(--wow-gold);">Make Azeroth Great Again</p>
                <p class="card-text mb-1 text-muted"><i class="bi bi-trophy me-1"></i>5 bosses | <i class="bi bi-person me-1"></i>10 players</p>
                
                <p class="card-text mb-0"><a href="https://classic.warcraftlogs.com/reports/pdg6m7hDjL9cXtvG" target="_blank" class="text-muted" onclick="event.stopPropagation();"><i class="bi bi-box-arrow-up-right me-1"></i>pdg6m7hDjL9cXtvG</a></p>
            </div>
        </div><div class="card report-card" style="cursor: pointer;" onclick="window.location.href='2026-01-04_10N_qcBHpjK7k84GDLTw/index.html'">
            <div class="card-body">
                <h5 class="card-title mb-1">2026-01-04 <span class="badge bg-secondary">10N</span></h5>
                <p class="card-text mb-1" style="color: var(--wow-gold);">Make Azeroth Great Again</p>
                <p class="card-text mb-1 text-muted"><i class="bi bi-trophy me-1"></i>12 bosses | <i class="bi bi-person me-1"></i>10 players</p>
                <p class="card-text mb-1"><a href="wipes/2026-01-04_10N_qcBHpjK7k84GDLTw/index.html" class="text-danger" onclick="event.stopPropagation();"><i class="bi bi-x-circle me-1"></i>9 wipes analyzed</a></p>
                <p class="card-text mb-0"><a href="https://classic.warcraftlogs.com/reports/qcBHpjK7k84GDLTw" target="_blank" class="text-muted" onclick="event.stopPropagation();"><i class="bi bi-box-arrow-up-right me-1"></i>qcBHpjK7k84GDLTw</a></p>
            </div>
        </div></div>
        <div class="footer text-center">
        <a href="#" onclick="openGeneralFeedback(); return false;" class="text-muted">
            <i class="bi bi-chat-dots me-1"></i>Send Feedback
        </a>
        <span class="text-muted mx-2">|</span>
        <span class="text-muted">Raid Review by Calrion/Nybs</span>
    </div>
    </div>
    
    <!-- Suggestion Feedback Modal -->
    <div class="modal fade" id="feedbackModal" tabindex="-1" aria-labelledby="feedbackModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="feedbackModalLabel"><i class="bi bi-flag me-2"></i>Report Incorrect Suggestion</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="feedback-context mb-3">
                        <div class="mb-2"><strong>Player:</strong> <span id="feedbackPlayer"></span></div>
                        <div class="mb-2"><strong>Boss:</strong> <span id="feedbackBoss"></span></div>
                        <div class="mb-2"><strong>Suggestion:</strong></div>
                        <div class="feedback-suggestion-text" id="feedbackSuggestion"></div>
                        <div class="mt-2"><a id="feedbackReportLink" href="#" target="_blank" class="small">View Report <i class="bi bi-box-arrow-up-right"></i></a></div>
                    </div>
                    <div class="mb-3">
                        <label for="feedbackIssue" class="form-label">What's wrong with this suggestion?</label>
                        <textarea class="form-control" id="feedbackIssue" rows="4" placeholder="e.g., This uptime isn't achievable because the boss has a phase transition where you can't attack..."></textarea>
                    </div>
                    <div id="feedbackStatus" class="small"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="feedbackSubmit" onclick="submitFeedback()">
                        <i class="bi bi-send me-1"></i>Submit
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- General Feedback Modal -->
    <div class="modal fade" id="generalFeedbackModal" tabindex="-1" aria-labelledby="generalFeedbackModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="generalFeedbackModalLabel"><i class="bi bi-chat-dots me-2"></i>Send Feedback</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-info small mb-3">
                        <i class="bi bi-info-circle me-1"></i>
                        <strong>Tip:</strong> To report an incorrect suggestion, use the <i class="bi bi-flag"></i> flag icon next to that specific suggestion instead.
                    </div>
                    <div class="mb-3">
                        <label for="generalFeedbackText" class="form-label">Your feedback</label>
                        <textarea class="form-control" id="generalFeedbackText" rows="5" placeholder="Bug reports, feature requests, questions, or any other feedback..."></textarea>
                    </div>
                    <div id="generalFeedbackStatus" class="small"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="generalFeedbackSubmit" onclick="submitGeneralFeedback()">
                        <i class="bi bi-send me-1"></i>Submit
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
    // Suggestion Feedback modal state
    let currentFeedback = {};

    function openFeedbackModal(player, boss, suggestion, reportUrl, spec) {
        currentFeedback = { player, boss, suggestion, reportUrl, spec };
        document.getElementById('feedbackPlayer').textContent = player + ' (' + spec + ')';
        document.getElementById('feedbackBoss').textContent = boss;
        document.getElementById('feedbackSuggestion').textContent = suggestion;
        document.getElementById('feedbackReportLink').href = reportUrl;
        document.getElementById('feedbackIssue').value = '';
        document.getElementById('feedbackStatus').textContent = '';
        document.getElementById('feedbackStatus').className = 'small';
        document.getElementById('feedbackSubmit').disabled = false;
        new bootstrap.Modal(document.getElementById('feedbackModal')).show();
    }

    async function submitFeedback() {
        const issue = document.getElementById('feedbackIssue').value.trim();
        if (!issue) {
            document.getElementById('feedbackStatus').textContent = 'Please describe the issue.';
            document.getElementById('feedbackStatus').className = 'small text-danger';
            return;
        }

        document.getElementById('feedbackSubmit').disabled = true;
        document.getElementById('feedbackStatus').textContent = 'Submitting...';
        document.getElementById('feedbackStatus').className = 'small text-muted';

        const webhookUrl = 'https://discord.com/api/webhooks/1461527361408208980/A0MtlJtryG0hCTGeza12G-EZJVrDz-QKXG5EIu0qqIr1xVKfkFucg5BNs4Il_1ZkwEq4';

        const embed = {
            title: 'Suggestion Feedback',
            color: 16763904,  // Gold color
            fields: [
                { name: 'Player', value: currentFeedback.player + ' (' + currentFeedback.spec + ')', inline: true },
                { name: 'Boss', value: currentFeedback.boss, inline: true },
                { name: 'Suggestion', value: currentFeedback.suggestion },
                { name: 'Issue', value: issue },
                { name: 'Report', value: '[View Report](' + currentFeedback.reportUrl + ')' }
            ],
            timestamp: new Date().toISOString()
        };

        try {
            const response = await fetch(webhookUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ embeds: [embed] })
            });

            if (response.ok || response.status === 204) {
                document.getElementById('feedbackStatus').textContent = 'Thank you! Your feedback has been submitted.';
                document.getElementById('feedbackStatus').className = 'small text-success';
                setTimeout(() => {
                    bootstrap.Modal.getInstance(document.getElementById('feedbackModal')).hide();
                }, 1500);
            } else {
                throw new Error('Failed to submit');
            }
        } catch (err) {
            document.getElementById('feedbackStatus').textContent = 'Failed to submit. Please try again.';
            document.getElementById('feedbackStatus').className = 'small text-danger';
            document.getElementById('feedbackSubmit').disabled = false;
        }
    }

    // General Feedback
    function openGeneralFeedback() {
        document.getElementById('generalFeedbackText').value = '';
        document.getElementById('generalFeedbackStatus').textContent = '';
        document.getElementById('generalFeedbackStatus').className = 'small';
        document.getElementById('generalFeedbackSubmit').disabled = false;
        new bootstrap.Modal(document.getElementById('generalFeedbackModal')).show();
    }

    async function submitGeneralFeedback() {
        const feedback = document.getElementById('generalFeedbackText').value.trim();
        if (!feedback) {
            document.getElementById('generalFeedbackStatus').textContent = 'Please enter your feedback.';
            document.getElementById('generalFeedbackStatus').className = 'small text-danger';
            return;
        }

        document.getElementById('generalFeedbackSubmit').disabled = true;
        document.getElementById('generalFeedbackStatus').textContent = 'Submitting...';
        document.getElementById('generalFeedbackStatus').className = 'small text-muted';

        const webhookUrl = 'https://discord.com/api/webhooks/1461527361408208980/A0MtlJtryG0hCTGeza12G-EZJVrDz-QKXG5EIu0qqIr1xVKfkFucg5BNs4Il_1ZkwEq4';

        const embed = {
            title: 'General Feedback',
            color: 5814783,  // Blue color
            description: feedback,
            fields: [
                { name: 'Page', value: window.location.href }
            ],
            timestamp: new Date().toISOString()
        };

        try {
            const response = await fetch(webhookUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ embeds: [embed] })
            });

            if (response.ok || response.status === 204) {
                document.getElementById('generalFeedbackStatus').textContent = 'Thank you! Your feedback has been submitted.';
                document.getElementById('generalFeedbackStatus').className = 'small text-success';
                setTimeout(() => {
                    bootstrap.Modal.getInstance(document.getElementById('generalFeedbackModal')).hide();
                }, 1500);
            } else {
                throw new Error('Failed to submit');
            }
        } catch (err) {
            document.getElementById('generalFeedbackStatus').textContent = 'Failed to submit. Please try again.';
            document.getElementById('generalFeedbackStatus').className = 'small text-danger';
            document.getElementById('generalFeedbackSubmit').disabled = false;
        }
    }
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>const whTooltips = {colorLinks: true, iconizeLinks: true, renameLinks: true};</script>
    <script src="https://wow.zamimg.com/js/tooltips.js"></script>
</body>
</html>