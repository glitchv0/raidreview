<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wipe Analysis: Ji-Kun #1</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="../../static/style.css">
</head>
<body>
    <div class="container py-4">
        <div class="feedback-bar mb-3">
        <a href="#" onclick="openGeneralFeedback(); return false;" class="feedback-btn">
            <i class="bi bi-chat-dots me-1"></i>Send Feedback
        </a>
    </div>
        
        <nav aria-label="breadcrumb" class="mb-4">
            <ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../index.html">Reports</a></li><li class="breadcrumb-item"><a href="../index.html">Wipes</a></li><li class="breadcrumb-item active">Ji-Kun #1</li></ol>
        </nav>
        <h1 class="wipe-title">Ji-Kun - Attempt #1</h1>

    <div class="card wipe-summary mb-4">
        <div class="card-body">
            <div class="d-flex flex-wrap gap-4">
                <div><strong>Duration:</strong> 0:39</div>
                <div><strong>Deaths:</strong> 23</div>
                <div><a href="https://classic.warcraftlogs.com/reports/ZBqazmNXy82wFAxQ#fight=40" target="_blank">View on WarcraftLogs <i class="bi bi-box-arrow-up-right"></i></a></div>
            </div>
        </div>
    </div>

    

    <div class="card mb-3 timeline-card">
        <div class="card-header"><h5 class="mb-0"><i class="bi bi-clock-history me-2"></i>Boss Ability Timeline</h5></div>
        <div class="card-body">
            <div class="timeline-bar mb-3">
                <div class="timeline-track">
                    <div class="timeline-marker timeline-marker-death" style="left: 0.2%;" title="0:00 - Apolantha died"></div><div class="timeline-marker timeline-marker-death" style="left: 68.0%;" title="0:27 - Stepsisfeet died"></div><div class="timeline-marker timeline-marker-death" style="left: 70.6%;" title="0:28 - Keshdi died"></div><div class="timeline-marker timeline-marker-death" style="left: 70.6%;" title="0:28 - Oofdar died"></div><div class="timeline-marker timeline-marker-death" style="left: 70.6%;" title="0:28 - Jazzatote died"></div><div class="timeline-marker timeline-marker-death" style="left: 70.6%;" title="0:28 - Chubbztotem died"></div><div class="timeline-marker timeline-marker-death" style="left: 70.6%;" title="0:28 - Ryojen died"></div><div class="timeline-marker timeline-marker-death" style="left: 70.6%;" title="0:28 - Calrion died"></div><div class="timeline-marker timeline-marker-death" style="left: 70.8%;" title="0:28 - Haphæstus died"></div><div class="timeline-marker timeline-marker-death" style="left: 70.8%;" title="0:28 - Hettes died"></div><div class="timeline-marker timeline-marker-death" style="left: 70.8%;" title="0:28 - Twigbinky died"></div><div class="timeline-marker timeline-marker-death" style="left: 73.0%;" title="0:29 - Embershadow died"></div><div class="timeline-marker timeline-marker-death" style="left: 73.0%;" title="0:29 - Letticus died"></div><div class="timeline-marker timeline-marker-death" style="left: 73.0%;" title="0:29 - Kamakmeleon died"></div><div class="timeline-marker timeline-marker-death" style="left: 73.0%;" title="0:29 - Demoncharmz died"></div><div class="timeline-marker timeline-marker-death" style="left: 75.5%;" title="0:30 - Cursedclam died"></div><div class="timeline-marker timeline-marker-death" style="left: 75.5%;" title="0:30 - Leetbloom died"></div><div class="timeline-marker timeline-marker-death" style="left: 75.5%;" title="0:30 - Priestsky died"></div><div class="timeline-marker timeline-marker-death" style="left: 75.5%;" title="0:30 - Themïlf died"></div><div class="timeline-marker timeline-marker-death" style="left: 93.4%;" title="0:37 - Deathanaxes died"></div><div class="timeline-marker timeline-marker-death" style="left: 93.4%;" title="0:37 - Impishh died"></div><div class="timeline-marker timeline-marker-death" style="left: 93.4%;" title="0:37 - Teofia died"></div><div class="timeline-marker timeline-marker-death" style="left: 95.9%;" title="0:38 - Symcha died"></div>
                </div>
                <div class="timeline-labels">
                    <span>0:00</span>
                    <span>0:39</span>
                </div>
            </div>
            <p class="text-muted small mb-2">
                <span class="timeline-legend-item"><span class="timeline-legend-dot bg-danger"></span> Dangerous ability</span>
                <span class="timeline-legend-item"><span class="timeline-legend-dot bg-warning"></span> Boss ability</span>
                <span class="timeline-legend-item"><span class="timeline-legend-dot bg-white"></span> Death</span>
            </p>
            <div class="table-responsive" style="max-height: 300px; overflow-y: auto;">
                <table class="table table-dark table-striped table-sm mb-0">
                    <thead><tr><th style="width: 80px;">Time</th><th>Event</th></tr></thead>
                    <tbody><tr class="table-danger">
                <td>0:00</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #FFF468;">Apolantha</span> died</td>
            </tr><tr class="table-danger">
                <td>0:27</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #C41E3A;">Stepsisfeet</span> died</td>
            </tr><tr class="table-danger">
                <td>0:28</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #3FC7EB;">Keshdi</span> died</td>
            </tr><tr class="table-danger">
                <td>0:28</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #F48CBA;">Oofdar</span> died</td>
            </tr><tr class="table-danger">
                <td>0:28</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #0070DD;">Jazzatote</span> died</td>
            </tr><tr class="table-danger">
                <td>0:28</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #0070DD;">Chubbztotem</span> died</td>
            </tr><tr class="table-danger">
                <td>0:28</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #AAD372;">Ryojen</span> died</td>
            </tr><tr class="table-danger">
                <td>0:28</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #FFFFFF;">Calrion</span> died</td>
            </tr><tr class="table-danger">
                <td>0:28</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #F48CBA;">Haphæstus</span> died</td>
            </tr><tr class="table-danger">
                <td>0:28</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #FFFFFF;">Hettes</span> died</td>
            </tr><tr class="table-danger">
                <td>0:28</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #00FF98;">Twigbinky</span> died</td>
            </tr><tr class="table-danger">
                <td>0:29</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #00FF98;">Embershadow</span> died</td>
            </tr><tr class="table-danger">
                <td>0:29</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #C69B6D;">Letticus</span> died</td>
            </tr><tr class="table-danger">
                <td>0:29</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #FF7C0A;">Kamakmeleon</span> died</td>
            </tr><tr class="table-danger">
                <td>0:29</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #8788EE;">Demoncharmz</span> died</td>
            </tr><tr class="table-danger">
                <td>0:30</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #8788EE;">Cursedclam</span> died</td>
            </tr><tr class="table-danger">
                <td>0:30</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #FF7C0A;">Leetbloom</span> died</td>
            </tr><tr class="table-danger">
                <td>0:30</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #FFFFFF;">Priestsky</span> died</td>
            </tr><tr class="table-danger">
                <td>0:30</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #AAD372;">Themïlf</span> died</td>
            </tr><tr class="table-danger">
                <td>0:37</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #C69B6D;">Deathanaxes</span> died</td>
            </tr><tr class="table-danger">
                <td>0:37</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #8788EE;">Impishh</span> died</td>
            </tr><tr class="table-danger">
                <td>0:37</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #8788EE;">Teofia</span> died</td>
            </tr><tr class="table-danger">
                <td>0:38</td>
                <td><i class="bi bi-heartbreak text-danger me-1"></i><span style="color: #F48CBA;">Symcha</span> died</td>
            </tr></tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="card mb-3">
        <div class="card-header"><h5 class="mb-0"><i class="bi bi-heartbreak me-2"></i>Death Timeline</h5></div>
        <div class="card-body">
            <p class="text-muted small mb-2"><i class="bi bi-check-circle text-success"></i> = Used Healthstone/Potion before death | <i class="bi bi-x-circle text-danger"></i> = Did not use survival item</p>
            <div class="table-responsive">
                <table class="table table-dark table-striped mb-0">
                    <thead>
                        <tr>
                            <th style="width: 100px;">Time</th>
                            <th>Player</th>
                            <th>Killed By</th>
                        </tr>
                    </thead>
                    <tbody><tr>
            <td>0:00</td>
            <td style="color: #FFF468;">Apolantha<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=1">Spell 1</a></td>
        </tr><tr>
            <td>0:27</td>
            <td style="color: #C41E3A;">Stepsisfeet<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:28</td>
            <td style="color: #3FC7EB;">Keshdi<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:28</td>
            <td style="color: #F48CBA;">Oofdar<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:28</td>
            <td style="color: #0070DD;">Jazzatote<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:28</td>
            <td style="color: #0070DD;">Chubbztotem<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:28</td>
            <td style="color: #AAD372;">Ryojen<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:28</td>
            <td style="color: #FFFFFF;">Calrion<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:28</td>
            <td style="color: #F48CBA;">Haphæstus<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:28</td>
            <td style="color: #FFFFFF;">Hettes<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:28</td>
            <td style="color: #00FF98;">Twigbinky<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:29</td>
            <td style="color: #00FF98;">Embershadow<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:29</td>
            <td style="color: #C69B6D;">Letticus<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:29</td>
            <td style="color: #FF7C0A;">Kamakmeleon<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:29</td>
            <td style="color: #8788EE;">Demoncharmz<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:30</td>
            <td style="color: #8788EE;">Cursedclam<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:30</td>
            <td style="color: #FF7C0A;">Leetbloom<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:30</td>
            <td style="color: #FFFFFF;">Priestsky<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:30</td>
            <td style="color: #AAD372;">Themïlf<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:37</td>
            <td style="color: #C69B6D;">Deathanaxes<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:37</td>
            <td style="color: #8788EE;">Impishh<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:37</td>
            <td style="color: #8788EE;">Teofia<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr><tr>
            <td>0:38</td>
            <td style="color: #F48CBA;">Symcha<span class="badge bg-danger ms-2" title="Did not use Healthstone/Potion"><i class="bi bi-x"></i> No HS/Pot</span></td>
            <td><a href="https://www.wowhead.com/mop-classic/spell=134381">Spell 134381</a></td>
        </tr></tbody>
                </table>
            </div>
        </div>
    </div>

    

    <div class="card mb-3 brez-card">
        <div class="card-header"><h5 class="mb-0"><i class="bi bi-heart-pulse-fill me-2"></i>Battle Resurrections</h5></div>
        <div class="card-body">
            <p class="mb-2"><span class="text-warning">0/1 battle rezzes used</span> <span class="text-danger">(1 unused with 23 deaths!)</span></p>
            <p class="text-muted mb-3">No battle rezzes were used</p>
        </div>
    </div>

    

    

    

    <div class="card mb-3">
        <div class="card-header"><h5 class="mb-0"><i class="bi bi-shield-check me-2"></i>Defensive Cooldowns Used</h5></div>
        <div class="card-body"><div class="mb-3">
            <h6 class="text-warning"><i class="bi bi-shield-fill me-1"></i>Tank Defensives (1)</h6>
            <div class="table-responsive">
                <table class="table table-dark table-striped table-sm mb-0">
                    <thead><tr><th style="width: 80px;">Time</th><th>Player</th><th>Ability</th></tr></thead>
                    <tbody><tr>
                <td>0:22</td>
                <td style="color: #FF7C0A;">Leetbloom</td>
                <td><a href="https://www.wowhead.com/mop-classic/spell=22812">Barkskin</a></td>
            </tr></tbody>
                </table>
            </div>
        </div></div>
    </div>

    

    <div class="card mb-3">
        <div class="card-header"><h5 class="mb-0"><i class="bi bi-fire me-2"></i>Top Damage Sources</h5></div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-dark table-striped mb-0">
                    <thead>
                        <tr>
                            <th>Ability</th>
                            <th class="text-end">Damage</th>
                            <th>% of Total</th>
                        </tr>
                    </thead>
                    <tbody><tr>
            <td>Quills</td>
            <td class="text-end">12,765,976</td>
            <td style="width: 150px;">
                <div class="d-flex align-items-center gap-2">
                    <div class="progress flex-grow-1" style="height: 8px;">
                        <div class="progress-bar" style="width: 96.01152080248514%; background-color: #dc3545;"></div>
                    </div>
                    <span class="text-muted" style="min-width: 45px;">96.0%</span>
                </div>
            </td>
        </tr><tr>
            <td>Melee</td>
            <td class="text-end">530,320</td>
            <td style="width: 150px;">
                <div class="d-flex align-items-center gap-2">
                    <div class="progress flex-grow-1" style="height: 8px;">
                        <div class="progress-bar" style="width: 3.988479197514857%; background-color: #6c757d;"></div>
                    </div>
                    <span class="text-muted" style="min-width: 45px;">4.0%</span>
                </div>
            </td>
        </tr></tbody>
                </table>
            </div>
        </div>
    </div>

    
    
        <div class="footer text-center">
        <a href="#" onclick="openGeneralFeedback(); return false;" class="text-muted">
            <i class="bi bi-chat-dots me-1"></i>Send Feedback
        </a>
        <span class="text-muted mx-2">|</span>
        <span class="text-muted">Raid Review by Calrion/Nybs</span>
    </div>
    </div>
    
    <!-- Suggestion Feedback Modal -->
    <div class="modal fade" id="feedbackModal" tabindex="-1" aria-labelledby="feedbackModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="feedbackModalLabel"><i class="bi bi-flag me-2"></i>Report Incorrect Suggestion</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="feedback-context mb-3">
                        <div class="mb-2"><strong>Player:</strong> <span id="feedbackPlayer"></span></div>
                        <div class="mb-2"><strong>Boss:</strong> <span id="feedbackBoss"></span></div>
                        <div class="mb-2"><strong>Suggestion:</strong></div>
                        <div class="feedback-suggestion-text" id="feedbackSuggestion"></div>
                        <div class="mt-2"><a id="feedbackReportLink" href="#" target="_blank" class="small">View Report <i class="bi bi-box-arrow-up-right"></i></a></div>
                    </div>
                    <div class="mb-3">
                        <label for="feedbackIssue" class="form-label">What's wrong with this suggestion?</label>
                        <textarea class="form-control" id="feedbackIssue" rows="4" placeholder="e.g., This uptime isn't achievable because the boss has a phase transition where you can't attack..."></textarea>
                    </div>
                    <div id="feedbackStatus" class="small"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="feedbackSubmit" onclick="submitFeedback()">
                        <i class="bi bi-send me-1"></i>Submit
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- General Feedback Modal -->
    <div class="modal fade" id="generalFeedbackModal" tabindex="-1" aria-labelledby="generalFeedbackModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="generalFeedbackModalLabel"><i class="bi bi-chat-dots me-2"></i>Send Feedback</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-info small mb-3">
                        <i class="bi bi-info-circle me-1"></i>
                        <strong>Tip:</strong> To report an incorrect suggestion, use the <i class="bi bi-flag"></i> flag icon next to that specific suggestion instead.
                    </div>
                    <div class="mb-3">
                        <label for="generalFeedbackText" class="form-label">Your feedback</label>
                        <textarea class="form-control" id="generalFeedbackText" rows="5" placeholder="Bug reports, feature requests, questions, or any other feedback..."></textarea>
                    </div>
                    <div id="generalFeedbackStatus" class="small"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="generalFeedbackSubmit" onclick="submitGeneralFeedback()">
                        <i class="bi bi-send me-1"></i>Submit
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
    // Suggestion Feedback modal state
    let currentFeedback = {};

    function openFeedbackModal(player, boss, suggestion, reportUrl, spec) {
        currentFeedback = { player, boss, suggestion, reportUrl, spec };
        document.getElementById('feedbackPlayer').textContent = player + ' (' + spec + ')';
        document.getElementById('feedbackBoss').textContent = boss;
        document.getElementById('feedbackSuggestion').textContent = suggestion;
        document.getElementById('feedbackReportLink').href = reportUrl;
        document.getElementById('feedbackIssue').value = '';
        document.getElementById('feedbackStatus').textContent = '';
        document.getElementById('feedbackStatus').className = 'small';
        document.getElementById('feedbackSubmit').disabled = false;
        new bootstrap.Modal(document.getElementById('feedbackModal')).show();
    }

    async function submitFeedback() {
        const issue = document.getElementById('feedbackIssue').value.trim();
        if (!issue) {
            document.getElementById('feedbackStatus').textContent = 'Please describe the issue.';
            document.getElementById('feedbackStatus').className = 'small text-danger';
            return;
        }

        document.getElementById('feedbackSubmit').disabled = true;
        document.getElementById('feedbackStatus').textContent = 'Submitting...';
        document.getElementById('feedbackStatus').className = 'small text-muted';

        const webhookUrl = 'https://discord.com/api/webhooks/1461527361408208980/A0MtlJtryG0hCTGeza12G-EZJVrDz-QKXG5EIu0qqIr1xVKfkFucg5BNs4Il_1ZkwEq4';

        const embed = {
            title: 'Suggestion Feedback',
            color: 16763904,  // Gold color
            fields: [
                { name: 'Player', value: currentFeedback.player + ' (' + currentFeedback.spec + ')', inline: true },
                { name: 'Boss', value: currentFeedback.boss, inline: true },
                { name: 'Suggestion', value: currentFeedback.suggestion },
                { name: 'Issue', value: issue },
                { name: 'Report', value: '[View Report](' + currentFeedback.reportUrl + ')' }
            ],
            timestamp: new Date().toISOString()
        };

        try {
            const response = await fetch(webhookUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ embeds: [embed] })
            });

            if (response.ok || response.status === 204) {
                document.getElementById('feedbackStatus').textContent = 'Thank you! Your feedback has been submitted.';
                document.getElementById('feedbackStatus').className = 'small text-success';
                setTimeout(() => {
                    bootstrap.Modal.getInstance(document.getElementById('feedbackModal')).hide();
                }, 1500);
            } else {
                throw new Error('Failed to submit');
            }
        } catch (err) {
            document.getElementById('feedbackStatus').textContent = 'Failed to submit. Please try again.';
            document.getElementById('feedbackStatus').className = 'small text-danger';
            document.getElementById('feedbackSubmit').disabled = false;
        }
    }

    // General Feedback
    function openGeneralFeedback() {
        document.getElementById('generalFeedbackText').value = '';
        document.getElementById('generalFeedbackStatus').textContent = '';
        document.getElementById('generalFeedbackStatus').className = 'small';
        document.getElementById('generalFeedbackSubmit').disabled = false;
        new bootstrap.Modal(document.getElementById('generalFeedbackModal')).show();
    }

    async function submitGeneralFeedback() {
        const feedback = document.getElementById('generalFeedbackText').value.trim();
        if (!feedback) {
            document.getElementById('generalFeedbackStatus').textContent = 'Please enter your feedback.';
            document.getElementById('generalFeedbackStatus').className = 'small text-danger';
            return;
        }

        document.getElementById('generalFeedbackSubmit').disabled = true;
        document.getElementById('generalFeedbackStatus').textContent = 'Submitting...';
        document.getElementById('generalFeedbackStatus').className = 'small text-muted';

        const webhookUrl = 'https://discord.com/api/webhooks/1461527361408208980/A0MtlJtryG0hCTGeza12G-EZJVrDz-QKXG5EIu0qqIr1xVKfkFucg5BNs4Il_1ZkwEq4';

        const embed = {
            title: 'General Feedback',
            color: 5814783,  // Blue color
            description: feedback,
            fields: [
                { name: 'Page', value: window.location.href }
            ],
            timestamp: new Date().toISOString()
        };

        try {
            const response = await fetch(webhookUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ embeds: [embed] })
            });

            if (response.ok || response.status === 204) {
                document.getElementById('generalFeedbackStatus').textContent = 'Thank you! Your feedback has been submitted.';
                document.getElementById('generalFeedbackStatus').className = 'small text-success';
                setTimeout(() => {
                    bootstrap.Modal.getInstance(document.getElementById('generalFeedbackModal')).hide();
                }, 1500);
            } else {
                throw new Error('Failed to submit');
            }
        } catch (err) {
            document.getElementById('generalFeedbackStatus').textContent = 'Failed to submit. Please try again.';
            document.getElementById('generalFeedbackStatus').className = 'small text-danger';
            document.getElementById('generalFeedbackSubmit').disabled = false;
        }
    }
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>const whTooltips = {colorLinks: true, iconizeLinks: true, renameLinks: true};</script>
    <script src="https://wow.zamimg.com/js/tooltips.js"></script>
</body>
</html>